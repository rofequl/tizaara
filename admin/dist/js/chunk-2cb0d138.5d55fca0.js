(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cb0d138"],{6481:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"transaction-history dataTable no-footer dtr-inline",staticStyle:{width:"1008px"},attrs:{id:"DataTables_Table_0",role:"grid","aria-describedby":"DataTables_Table_0_info"}},[a("thead",[a("tr",{attrs:{role:"row"}},t._l(t.columns,(function(e){return a("th",{key:e.name,class:t.sortKey===e.name?t.sortOrders[e.name]>0?"sorting_asc":"sorting_desc":"sorting",style:"cursor:pointer;",attrs:{"aria-controls":"DataTables_Table_0"},on:{click:function(a){return t.$emit("sort",e.name)}}},[t._v(" "+t._s(e.label)+" "),a("font-awesome-icon",{staticClass:"ml-2 pt-1",attrs:{icon:"sort"}})],1)})),0)]),t._t("default")],2)])},s=[],o={name:"DataTable",props:["columns","sortKey","sortOrders"]},n=o,i=a("2877"),c=Object(i["a"])(n,r,s,!1,null,"8f662ed4",null);e["a"]=c.exports},b763:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[a("span",{staticClass:"text-uppercase page-subtitle"},[t._v(t._s(t.$t("message.product.product"))+" ")]),a("h3",{staticClass:"page-title"},[t._v(t._s(t.$t("message.product.in_house_products")))])]),a("div",{staticClass:"col-12 col-sm-6 d-flex align-items-center"},[a("div",{staticClass:"mx-auto ml-sm-auto mr-sm-0"},[a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/product/product-admin-create",color:"info"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("message.product.add_new_product_service"))+" ")],1)],1)])]),a("div",{staticClass:"dataTables_wrapper no-footer my-5",attrs:{id:"DataTables_Table_0_wrapper"}},[a("vue-element-loading",{attrs:{active:t.loadActive,"background-color":"white",spinner:"bar-fade-scale"}}),a("div",{staticClass:"dataTables_length"},[a("label",[t._v("Show "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tableData.length,expression:"tableData.length"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.tableData,"length",e.target.multiple?a:a[0])},function(e){return t.loadData()}]}},t._l(t.perPage,(function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v(t._s(e))])})),0),t._v(" "+t._s(t.$t("message.product.entries")))])]),a("div",{staticClass:"dataTables_filter"},[a("label",[t._v(t._s(t.$t("message.product.search"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tableData.search,expression:"tableData.search"}],attrs:{type:"search"},domProps:{value:t.tableData.search},on:{input:[function(e){e.target.composing||t.$set(t.tableData,"search",e.target.value)},function(e){return t.loadData()}]}})])]),a("datatable",{attrs:{columns:t.columns,sortKey:t.sortKey,sortOrders:t.sortOrders},on:{sort:t.sortBy}},[a("tbody",t._l(t.projects.data,(function(e,r){return a("tr",{key:e.id,staticClass:"odd",attrs:{role:"row"}},[a("td",[t._v(t._s(r+t.serial_no))]),a("td",[a("b-media",{scopedSlots:t._u([{key:"aside",fn:function(){return[e.thumbnail_img?a("b-img",{staticClass:"border",attrs:{src:t.getProfilePhoto(e.thumbnail_img),width:"80px"}}):t._e()]},proxy:!0}],null,!0)},[a("p",[t._v(t._s(e.name))])])],1),a("td",[t._v(t._s(e.num_of_sale))]),a("td",[t._v(t._s(t.totalQty(e)))]),a("td",[t._v(t._s(t.totalPrice(e)))]),a("td",[a("CButtonGroup",{staticClass:"mx-1",attrs:{size:"sm"}},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.approveProduct(e)}}},[a("CButton",{attrs:{color:"secondary"}},[a("i",{staticClass:"fas fa-check-square"}),a("font-awesome-icon",{attrs:{icon:e.is_approved?"ban":"check"}})],1)],1),a("router-link",{attrs:{to:"/product/product-edit/"+e.slug}},[a("CButton",{attrs:{color:"secondary"}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1)],1),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteProduct(e.id)}}},[a("CButton",{attrs:{color:"secondary"}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)],1)])})),0)]),a("div",{staticClass:"dataTables_footer"},[a("div",{staticClass:"dataTables_info"},[t._v(" "+t._s(t.$t("message.product.showing"))+" "+t._s(t.projects.from)+" to "+t._s(t.projects.to)+" of "+t._s(t.projects.total)+" "+t._s(t.$t("message.product.entries"))+" ")]),a("div",{staticClass:"dataTables_paginate paging_simple_numbers"},[a("pagination",{attrs:{data:t.projects,"show-disabled":!0,align:t.align,limit:2},on:{"pagination-change-page":t.loadData}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v(t._s(t.$t("message.product.previous")))]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v(t._s(t.$t("message.product.next")))])])],1)])],1)])},s=[],o=a("7b99"),n=a("6481"),i=a("fdb5");function c(t){return p(t)||d(t)||u(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return m(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}var f={name:"Product",components:{datatable:n["a"]},data:function(){var t={},e=[{label:"#",name:"#"},{label:"Name",name:"name"},{label:"Num of Sale"},{label:"Total Stock"},{label:"Base Price"},{label:"Action"}];return e.forEach((function(e){t[e.name]=-1})),{loadActive:!1,projects:{},category:[],subcategory:[],columns:e,columns_exist:["name","num_of_sale"],sortKey:"deadline",sortOrders:t,perPage:["10","20","50"],align:"right",tableData:{draw:0,length:10,search:"",column:0,dir:"desc"}}},methods:{getProfilePhoto:function(t){return i["a"]+t},loadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loadActive=!0,this.projects={};var a="product?page="+e;this.tableData.draw++,o["a"].get(a,"",{params:this.tableData}).then((function(e){var a=e.data;t.loadActive=!1;var r=a.data;t.tableData.draw==a.draw&&(t.projects=r,t.serial_no=r.from)})).catch((function(t){t.response}))},sortBy:function(t){if(-1===this.columns_exist.indexOf(t))return!0;this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t],this.tableData.column=this.getIndex(this.columns,"name",t),this.tableData.dir=1===this.sortOrders[t]?"asc":"desc",this.loadData()},getIndex:function(t,e,a){return t.findIndex((function(t){return t[e]==a}))},totalQty:function(t){if(t.stockManagement){if(1==t.priceType&&t.product_stock.length>0){var e=Math.max.apply(Math,c(t.product_stock.map((function(t){return t.qty})))),a=Math.min.apply(Math,c(t.product_stock.map((function(t){return t.qty}))));return a+"-"+e}return t.quantity}return"Unlimited"},totalPrice:function(t){if(0==t.priceType)return t.unit_price;if(1==t.priceType&&t.product_stock.length>0){var e=Math.max.apply(Math,c(t.product_stock.map((function(t){return t.price})))),a=Math.min.apply(Math,c(t.product_stock.map((function(t){return t.price}))));return a+"-"+e}if(2==t.priceType&&t.price_variation.length>0){var r=Math.max.apply(Math,c(t.price_variation.map((function(t){return t.off_price})))),s=Math.min.apply(Math,c(t.price_variation.map((function(t){return t.off_price}))));return s+"-"+r}},approveProduct:function(t){var e=this;o["a"].post("product-approve/"+t.id).then((function(t){"Error"===t.data.result?swal.fire(e.$t("message.common.error"),t.data.message,"warning"):(swal.fire(t.data.result,"Product has been ".concat(t.data.result.toLowerCase(),"."),"success"),e.loadData())})).catch((function(){swal.fire(e.$t("message.common.error"),e.$t("message.common.something_wrong"),"warning")}))},deleteProduct:function(t){var e=this;swal.fire({title:this.$t("message.product.are_you_sure"),text:this.$t("message.product.able_to_revert"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("message.product.delete_it")}).then((function(a){a.value&&o["a"].delete("product/"+t).then((function(a){if("Error"===a.data.result)swal.fire("Failed!",a.data.message,"warning");else{swal.fire(e.$t("message.common.deleted"),e.$t("message.product.product_deleted"),"success");var r=e.projects.data.findIndex((function(e){return e.id===t}));e.projects.data.splice(r,1)}})).catch((function(){swal.fire(e.$t("message.common.error"),e.$t("message.common.something_wrong"),"warning")}))}))}},created:function(){this.loadData()}},_=f,h=a("2877"),v=Object(h["a"])(_,r,s,!1,null,"2f0902f0",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2cb0d138.5d55fca0.js.map