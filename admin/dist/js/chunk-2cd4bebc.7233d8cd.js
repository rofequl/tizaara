(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cd4bebc"],{6481:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"transaction-history dataTable no-footer dtr-inline",staticStyle:{width:"1008px"},attrs:{id:"DataTables_Table_0",role:"grid","aria-describedby":"DataTables_Table_0_info"}},[a("thead",[a("tr",{attrs:{role:"row"}},e._l(e.columns,(function(t){return a("th",{key:t.name,class:e.sortKey===t.name?e.sortOrders[t.name]>0?"sorting_asc":"sorting_desc":"sorting",style:"cursor:pointer;",attrs:{"aria-controls":"DataTables_Table_0"},on:{click:function(a){return e.$emit("sort",t.name)}}},[e._v(" "+e._s(t.label)+" "),a("font-awesome-icon",{staticClass:"ml-2 pt-1",attrs:{icon:"sort"}})],1)})),0)]),e._t("default")],2)])},s=[],o={name:"DataTable",props:["columns","sortKey","sortOrders"]},r=o,n=a("2877"),l=Object(n["a"])(r,i,s,!1,null,"8f662ed4",null);t["a"]=l.exports},"9e48":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[a("span",{staticClass:"text-uppercase page-subtitle"},[e._v(e._s(e.$t("message.area.region"))+" ")]),a("h3",{staticClass:"page-title"},[e._v(e._s(e.$t("message.area.area")))])]),a("div",{staticClass:"col-12 col-sm-6 d-flex align-items-center"},[a("div",{staticClass:"mx-auto ml-sm-auto mr-sm-0"},[a("CButton",{attrs:{block:"",color:"info"},on:{click:e.openModal}},[e._v(e._s(e.$t("message.area.add_new_area")))])],1)])]),a("div",{staticClass:"dataTables_wrapper no-footer my-5",attrs:{id:"DataTables_Table_0_wrapper"}},[a("vue-element-loading",{attrs:{active:e.loadActive,"background-color":"white",spinner:"bar-fade-scale"}}),a("div",{staticClass:"dataTables_length"},[a("label",[e._v(e._s(e.$t("message.area.show"))+" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.tableData.length,expression:"tableData.length"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.tableData,"length",t.target.multiple?a:a[0])},function(t){return e.loadData()}]}},e._l(e.perPage,(function(t,i){return a("option",{key:i,domProps:{value:t}},[e._v(e._s(t))])})),0),e._v(" "+e._s(e.$t("message.area.entries")))])]),a("div",{staticClass:"dataTables_filter"},[a("label",[e._v(e._s(e.$t("message.area.search"))+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tableData.search,expression:"tableData.search"}],attrs:{type:"search"},domProps:{value:e.tableData.search},on:{input:[function(t){t.target.composing||e.$set(e.tableData,"search",t.target.value)},function(t){return e.loadData()}]}})])]),a("datatable",{attrs:{columns:e.columns,sortKey:e.sortKey,sortOrders:e.sortOrders},on:{sort:e.sortBy}},[a("tbody",e._l(e.projects.data,(function(t,i){return a("tr",{key:t.id,staticClass:"odd",attrs:{role:"row"}},[a("td",[e._v(e._s(i+e.serial_no))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.zip_code))]),a("td",[e._v(e._s(t.city.name))]),a("td",[e._v(e._s(t.city.division.country.name))]),a("td",[a("CSwitch",{staticClass:"mr-1",attrs:{color:"danger",checked:0!==t.status,shape:"pill"},on:{"update:checked":function(a){e.areaChecked(a,t.id)}}})],1),a("td",[a("CButtonGroup",{staticClass:"mx-1",attrs:{size:"sm"}},[a("CButton",{attrs:{color:"secondary"},on:{click:function(a){return e.openModalEdit(t)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("CButton",{attrs:{color:"secondary"},on:{click:function(a){return e.deleteArea(t.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)])})),0)]),a("div",{staticClass:"dataTables_footer"},[a("div",{staticClass:"dataTables_info"},[e._v(" "+e._s(e.$t("message.area.showing"))+" "+e._s(e.projects.from)+" "+e._s(e.$t("message.city.to"))+" "+e._s(e.projects.to)+" "+e._s(e.$t("message.city.of"))+" "+e._s(e.projects.total)+" "+e._s(e.$t("message.area.entries"))+" ")]),a("div",{staticClass:"dataTables_paginate paging_simple_numbers"},[a("pagination",{attrs:{data:e.projects,"show-disabled":!0,align:e.align,limit:2},on:{"pagination-change-page":e.loadData}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[e._v(e._s(e.$t("message.area.previous")))]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[e._v(e._s(e.$t("message.area.next")))])])],1)])],1),a("b-modal",{attrs:{id:"adminModal",title:e.editMode?this.$t("message.area.area_information_edit"):this.$t("message.area.new_area_add"),"hide-footer":"",centered:""}},[a("b-form",{on:{submit:function(t){t.preventDefault(),e.editMode?e.updateArea():e.createArea()},keydown:function(t){return e.form.onKeydown(t)}}},[a("CInput",{attrs:{label:"Area Name :",horizontal:"",placeholder:"Enter Area Name",invalidFeedback:e.$v.form.name.required?e.$v.form.name.maxLength?"":this.$t("message.area.area_name_character"):this.$t("message.area.area_name_required"),isValid:e.validateState("name")},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model",t)},expression:"$v.form.name.$model"}}),a("CInput",{attrs:{label:"Zip Code :",horizontal:"",placeholder:"Enter Zip Code",invalidFeedback:e.$v.form.zip_code.required?e.$v.form.zip_code.maxLength?"":this.$t("message.area.zip_code_character"):this.$t("message.area.zip_code_required"),isValid:e.validateState("zip_code")},model:{value:e.$v.form.zip_code.$model,callback:function(t){e.$set(e.$v.form.zip_code,"$model",t)},expression:"$v.form.zip_code.$model"}}),a("CSelect",{attrs:{label:"Select Country :",horizontal:"",value:e.$v.form.country_id.$model,options:e.country,placeholder:"Please select Country",invalidFeedback:e.$v.form.country_id.required?"":this.$t("message.area.country_name_required"),isValid:e.validateState("country_id")},on:{"update:value":[function(t){return e.$set(e.$v.form.country_id,"$model",t)},e.countrySelect]}}),a("CSelect",{attrs:{label:"Select Division :",horizontal:"",value:e.$v.form.division_id.$model,options:e.division,placeholder:"Please select Division",invalidFeedback:e.$v.form.division_id.required?"":this.$t("message.area.division_name_required"),isValid:e.validateState("division_id")},on:{"update:value":[function(t){return e.$set(e.$v.form.division_id,"$model",t)},e.divisionSelect]}}),a("CSelect",{attrs:{label:"Select City :",horizontal:"",value:e.$v.form.city_id.$model,options:e.city,placeholder:"Please select City",invalidFeedback:e.$v.form.city_id.required?"":this.$t("message.area.city_name_required"),isValid:e.validateState("city_id")},on:{"update:value":function(t){return e.$set(e.$v.form.city_id,"$model",t)}}}),a("CRow",{staticClass:"justify-content-end mt-5"},[a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"info",type:"submit",disabled:e.form.busy}},[e._v(" "+e._s(e.editMode?this.$t("message.area.update"):this.$t("message.area.submit"))+" ")])],1),a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"dark"},on:{click:function(t){return e.$bvModal.hide("adminModal")}}},[e._v(e._s(e.$t("message.area.close")))])],1)],1)],1),a("b-overlay",{attrs:{show:e.show,"no-wrap":""}})],1)],1)},s=[],o=a("1dce"),r=a("7b99"),n=a("6481"),l=a("b5ae"),c=a("2ef0"),d=a.n(c),m={mixins:[o["validationMixin"]],name:"Area",data:function(){var e={},t=[{label:"#",name:"#"},{label:"Area Name",name:"name"},{label:"Zip Code"},{label:"Under City"},{label:"Country"},{label:"Status"},{label:"Action"}];return t.forEach((function(t){e[t.name]=-1})),{editMode:!1,form:new Form({id:"",name:"",zip_code:"",country_id:"",division_id:"",city_id:""}),loadActive:!1,projects:{},country:[],division:[],city:[],columns:t,columns_exist:["name"],sortKey:"deadline",sortOrders:e,perPage:["10","20","50"],align:"right",tableData:{draw:0,length:10,search:"",column:0,dir:"desc"},show:!1}},validations:{form:{name:{required:l["required"],maxLength:Object(l["maxLength"])(100)},zip_code:{required:l["required"],maxLength:Object(l["maxLength"])(100)},country_id:{required:l["required"]},division_id:{required:l["required"]},city_id:{required:l["required"]}}},components:{datatable:n["a"]},methods:{validateState:function(e){var t=this.$v.form[e],a=t.$dirty,i=t.$error;return a?!i:null},openModal:function(){this.form.reset(),this.$v.$reset(),this.form.clear(),this.editMode=!1,this.$bvModal.show("adminModal")},openModalEdit:function(e){this.show=!0,this.form.reset(),this.$v.$reset(),this.form.clear(),this.form.fill(e),this.form.country_id=e.city.division.country.id,this.countrySelect(this.form.country_id),this.form.division_id=e.city.division.id,this.divisionSelect(this.form.division_id),this.form.city_id=e.city.id,this.editMode=!0,this.$bvModal.show("adminModal")},loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loadActive=!0,this.projects={};var a="area?page="+t;this.tableData.draw++,r["a"].get(a,"",{params:this.tableData}).then((function(t){var a=t.data;e.loadActive=!1;var i=a.data;e.tableData.draw==a.draw&&(e.projects=i,e.serial_no=i.from)})).catch((function(e){e.response}))},loadCountry:function(){var e=this;r["a"].get("country").then((function(t){e.country=d.a.map(t.data,(function(e){var t=d.a.pick(e,"id","name"),a={value:t.id,label:t.name};return a}))})).catch((function(e){var t=e.response;console.log(t)}))},countrySelect:function(e){console.log(e),this.division=[],this.form.division_id="",this.city=[],this.form.city_id="";var t=this;r["a"].get("division/",e).then((function(e){t.division=d.a.map(e.data,(function(e){var t=d.a.pick(e,"id","name"),a={value:t.id,label:t.name};return a}))})).catch((function(e){var t=e.response;console.log(t)}))},divisionSelect:function(e){this.city=[],this.form.city_id="";var t=this;r["a"].get("city/",e).then((function(e){t.city=d.a.map(e.data,(function(e){var t=d.a.pick(e,"id","name"),a={value:t.id,label:t.name};return a})),t.show=!1})).catch((function(e){var t=e.response;console.log(t)}))},sortBy:function(e){if(-1===this.columns_exist.indexOf(e))return!0;this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e],this.tableData.column=this.getIndex(this.columns,"name",e),this.tableData.dir=1===this.sortOrders[e]?"asc":"desc",this.loadData()},getIndex:function(e,t,a){return e.findIndex((function(e){return e[t]==a}))},areaChecked:function(e,t){var a=this;e=e?1:0,this.form.get("area/"+t+"/"+e).catch((function(e){swal(a.$t("message.common.error"),a.$t("message.common.something_wrong"),"warning")}))},createArea:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.post("area").then((function(t){e.loadData(),e.form.reset(),e.$bvModal.hide("adminModal"),toast.fire({icon:"success",title:e.$t("message.area.area_add_successfully")})})).catch((function(e){}))},updateArea:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.put("area/"+this.form.id).then((function(t){e.loadData(),e.form.reset(),e.$bvModal.hide("adminModal"),toast.fire({icon:"success",title:e.$t("message.area.area_update_successfully")})})).catch((function(e){}))},deleteArea:function(e){var t=this;swal.fire({title:this.$t("message.area.are_you_sure"),text:this.$t("message.area.able_to_revert"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("message.area.delete_it")}).then((function(a){a.value&&t.form.delete("area/"+e).then((function(e){t.loadData(),toast.fire({icon:"success",title:t.$t("message.area.area_deleted_successfully")})})).catch((function(){swal(t.$t("message.common.error"),t.$t("message.common.something_wrong"),"warning")}))}))}},created:function(){this.loadData(),this.loadCountry()}},u=m,v=a("2877"),h=Object(v["a"])(u,i,s,!1,null,"4fc27222",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2cd4bebc.7233d8cd.js.map