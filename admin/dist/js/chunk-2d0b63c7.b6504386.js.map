{"version":3,"sources":["webpack:///./src/components/marketing/Order.vue?28bb","webpack:///src/components/marketing/Order.vue","webpack:///./src/components/marketing/Order.vue?2691","webpack:///./src/components/marketing/Order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","orderList","columns","options","scopedSlots","_u","key","fn","props","index","directives","name","rawName","value","showImage","jsonDecode","row","product","thumbnail_img","expression","payment_type","status","staticStyle","moment","created_at","fromNow","style","approval_status","order_status","on","$event","statusChange","id","_e","staticRenderFns","data","headings","serial","image","product_name","unit_price","offer_price","quantity","sub_total","shipping_charge","vat","total_amount","create_at","sortable","filterable","0","1","2","3","4","methods","docoded","changeStatus","swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","message","result","created","$store","dispatch","computed","component"],"mappings":"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","file":"js/chunk-2d0b63c7.b6504386.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0\"},[_c('span',{staticClass:\"text-uppercase page-subtitle\"},[_vm._v(_vm._s(_vm.$t(\"message.flash.marketing\"))+\" \")]),_c('h3',{staticClass:\"page-title\"},[_vm._v(_vm._s(_vm.$t(\"message.flash.all_orders\")))])])]),_c('hr'),_c('div',{staticClass:\"clearfix\"}),_c('div',{staticClass:\"dataTables_wrapper no-footer my-5\",attrs:{\"id\":\"people\"}},[_c('v-client-table',{staticClass:\"text-center\",attrs:{\"data\":_vm.orderList,\"columns\":_vm.columns,\"options\":_vm.options},scopedSlots:_vm._u([{key:\"serial\",fn:function(props){return _c('div',{},[_vm._v(\" \"+_vm._s(props.index)+\" \")])}},{key:\"image\",fn:function(props){return _c('div',{},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.showImage(_vm.jsonDecode(props.row.product).thumbnail_img)),expression:\"showImage(jsonDecode(props.row.product).thumbnail_img)\"}],staticClass:\"border\",attrs:{\"width\":\"80px\"}})])}},{key:\"payment_type\",fn:function(props){return _c('div',{},[(props.payment_type ==1 && props.status ==='Pending')?[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Rejected\")])]:[_vm._v(_vm._s(_vm.payment_type[props.row.payment_type]))]],2)}},{key:\"product_name\",fn:function(props){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.jsonDecode(props.row.product).name)+\" \")])}},{key:\"created_at\",fn:function(props){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.moment(props.row.created_at).fromNow())+\" \")])}},{key:\"approval_status\",fn:function(props){return _c('div',{},[_c('span',{style:(props.row.approval_status==1?'color:green':props.row.approval_status==2?'color:red':'color:blue')},[_vm._v(_vm._s(_vm.status[props.row.approval_status]))])])}},{key:\"order_status\",fn:function(props){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm.status[props.row.order_status])+\" \")])}},{key:\"action\",fn:function(props){return _c('div',{},[(props.row.approval_status==0 && props.payment_type !=1 && props.status !=='Pending')?_c('CButtonGroup',{staticClass:\"mx-1\",attrs:{\"size\":\"sm\"}},[_c('CButton',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.statusChange(props.row.id,1,(props.index-1))}}},[_vm._v(\"Approve\")]),_c('CButton',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){_vm.statusChange(props.row.id,2,(props.index-1))}}},[_vm._v(\"Cancel\")])],1):_vm._e()],1)}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Page Header -->\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0\">\n        <span class=\"text-uppercase page-subtitle\">{{$t(\"message.flash.marketing\")}}\n        </span>\n        <h3 class=\"page-title\">{{$t(\"message.flash.all_orders\")}}</h3>\n      </div>\n    </div><hr>\n\n    <div class=\"clearfix\"></div>\n\n    <!-- Datatable -->\n    <div id=\"people\" class=\"dataTables_wrapper no-footer my-5\">\n      <v-client-table :data=\"orderList\" :columns=\"columns\" class=\"text-center\" :options=\"options\">\n        <div slot=\"serial\" slot-scope=\"props\">\n          {{ props.index }}\n        </div>\n        <div slot=\"image\" slot-scope=\"props\">\n          <img v-lazy=\"showImage(jsonDecode(props.row.product).thumbnail_img)\" class=\"border\" width=\"80px\">\n        </div>\n        <div slot=\"payment_type\" slot-scope=\"props\">\n          <template v-if=\"props.payment_type ==1 && props.status ==='Pending'\">\n              <span style=\"color:red;\">Rejected</span>\n          </template>\n          <template v-else>{{ payment_type[props.row.payment_type] }}</template>\n        </div>\n        <div slot=\"product_name\" slot-scope=\"props\">\n          {{ jsonDecode(props.row.product).name }}\n        </div>\n        <div slot=\"created_at\" slot-scope=\"props\">\n          {{ moment(props.row.created_at).fromNow() }}\n        </div>\n        <div slot=\"approval_status\" slot-scope=\"props\">\n          <span :style=\"props.row.approval_status==1?'color:green':props.row.approval_status==2?'color:red':'color:blue'\">{{ status[props.row.approval_status] }}</span>\n        </div>\n        <div slot=\"order_status\" slot-scope=\"props\">\n          {{ status[props.row.order_status] }}\n        </div>\n        <div slot=\"action\" slot-scope=\"props\">\n          <CButtonGroup v-if=\"props.row.approval_status==0 && props.payment_type !=1 && props.status !=='Pending'\" size=\"sm\" class=\"mx-1\">\n            <CButton color=\"primary\" @click=\"statusChange(props.row.id,1,(props.index-1))\">Approve</CButton>\n            <CButton color=\"danger\" @click=\"statusChange(props.row.id,2,(props.index-1))\">Cancel</CButton>\n          </CButtonGroup>\n        </div>\n      </v-client-table>\n    </div>\n    <!-- End Datatable -->\n\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport {api_base_url} from \"@/core/config/app\";\nimport ApiService from \"@/core/services/api.service\";\nimport {ORDER_LIST, ORDER_STATUS_CHANGE} from \"../../core/services/store/module/order\";\nimport moment from \"moment\";\nexport default {\n  name: \"Order\",\n  data() {\n    return {\n      moment,\n      columns: ['serial', 'image', 'product_name', 'supplier.full_name', 'name', 'unit_price','offer_price','quantity',\n        'sub_total','shipping_charge','vat','total_amount','payment_type','created_at','approval_status','order_status', 'action'],\n      options: {\n        headings: {\n          serial: '#',\n          image: 'Image',\n          product_name: 'Product name',\n          'supplier.full_name': 'Supplier Name',\n          name: 'Buyer Name',\n          unit_price: 'Unit price',\n          offer_price: 'Offer price',\n          quantity: 'quantity',\n          sub_total: 'Sub Total',\n          shipping_charge: 'shipping charge',\n          vat: 'tax',\n          total_amount: 'Total Amount',\n          payment_type: 'Payment Type',\n          create_at: 'Created At',\n          approval_status: 'Approval Status',\n          order_status: 'Order Status',\n        },\n        sortable: ['name'],\n        filterable: ['name', 'meta_title']\n      },\n      payment_type:{\n        0:'Cash On delivery',\n        1:'SSL Commerze',\n      },\n      status:{\n        0:'Pending',\n        1:'Approved',\n        2:'Canceled',\n        3:'Shipping',\n        4:'Delivered',\n      },\n    }\n  },\n  methods: {\n    jsonDecode(data){\n      let docoded={};\n      try {\n        docoded =JSON.parse(data);\n      }catch (e){\n        docoded={};\n      }\n      return docoded;\n    },\n    showImage(e) {\n      return api_base_url + e;\n    },\n    changeStatus(e, id) {\n      ApiService.post('flash-deals-status', {id: id, status: e});\n    },\n    statusChange(id,status,index) {\n     let message = '';\n     if (status==1) message='Yes, approve it';\n     if (status==2) message='Yes, cancel it';\n\n      swal.fire({\n        title:  this.$t(\"message.flash.are_you_sure\"),\n        text: this.$t(\"message.flash.able_to_revert\"),\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: message\n      }).then((result) => {\n        if (result.value) {\n          ApiService.post(`admin/order/status${status}/change${id}`)\n              .then((response) => {\n                this.$store.commit(ORDER_STATUS_CHANGE, [status,index]);\n                this.$toaster.success(response.data.message);\n              })\n              .catch(() => {\n                swal.fire(this.$t(\"message.common.error\"), this.$t(\"message.common.something_wrong\"), 'warning')\n              });\n        }\n      })\n    },\n  },\n  created() {\n    this.$store.dispatch(ORDER_LIST);\n  },\n  computed: {\n    ...mapGetters([\"orderList\"])\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=694ae59f&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"694ae59f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}