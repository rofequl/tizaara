(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7ef0"],{5373:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[a("span",{staticClass:"text-uppercase page-subtitle"},[e._v(e._s(e.$t("message.categories.product"))+" ")]),a("h3",{staticClass:"page-title"},[e._v(e._s(e.$t("message.categories.category_information")))])]),a("div",{staticClass:"col-12 col-sm-6 d-flex align-items-center"},[a("div",{staticClass:"mx-auto ml-sm-auto mr-sm-0"},[a("CButton",{attrs:{block:"",color:"info"},on:{click:e.openModal}},[e._v(e._s(e.$t("message.categories.add_new_category")))])],1)])]),a("div",{staticClass:"dataTables_wrapper no-footer my-5",attrs:{id:"people"}},[a("v-client-table",{staticClass:"text-center",attrs:{data:Object.values(e.categoryList),columns:e.columns,options:e.options},scopedSlots:e._u([{key:"serial",fn:function(t){return a("div",{},[e._v(" "+e._s(t.index)+" ")])}},{key:"banner",fn:function(t){return a("div",{},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getProfilePhoto(t.row.banner),expression:"getProfilePhoto(props.row.banner)"}],staticClass:"border",attrs:{width:"80px"}})])}},{key:"icon",fn:function(t){return a("div",{},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getProfilePhoto(t.row.icon),expression:"getProfilePhoto(props.row.icon)"}],staticClass:"border",attrs:{width:"80px"}})])}},{key:"action",fn:function(t){return a("div",{},[a("CButtonGroup",{staticClass:"mx-1",attrs:{size:"sm"}},[a("CButton",{attrs:{color:"secondary"},on:{click:function(a){return e.openModalEdit(t.row)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("CButton",{attrs:{color:"secondary"},on:{click:function(a){return e.deleteCategory(t.row.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1)],1)}}])})],1),a("b-modal",{attrs:{id:"adminModal",title:e.editMode?this.$t("message.categories.category_information_edit"):this.$t("message.categories.new_category_add"),"hide-footer":""}},[a("b-form",{on:{submit:function(t){t.preventDefault(),e.editMode?e.updateCategory():e.createCategory()},keydown:function(t){return e.form.onKeydown(t)}}},[a("b-form-group",{attrs:{label:"Category Name :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("name")},attrs:{id:"BrandName-1",placeholder:"Category Name",state:e.validateState("name"),"aria-describedby":"BrandName"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model",t)},expression:"$v.form.name.$model"}}),e.$v.form.name.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.categories.category_name_required"))+" ")]),e.$v.form.name.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.categories.category_name_character"))+" ")]),a("has-error",{attrs:{form:e.form,field:"name"}})],1),a("b-form-group",{attrs:{label:"Category banner :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-file",{attrs:{accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose category banner 200x300"},on:{change:e.onInputChange}}),a("b-form-invalid-feedback",{attrs:{id:"fileErrorText",state:e.validation}})],1),a("b-form-group",{attrs:{label:"Category icon :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-file",{attrs:{accept:"image/jpeg, image/png, image/jpg",placeholder:"Choose category icon 32x32",state:e.validateState("icon")},on:{change:e.onInputChange2}}),e.$v.form.icon.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.categories.category_icon_required"))+" ")]),a("b-form-invalid-feedback",{attrs:{id:"fileErrorText2",state:e.validation2}})],1),a("b-form-group",{attrs:{label:"Meta Title :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{attrs:{state:e.validateState("meta_title"),placeholder:"Meta Title"},model:{value:e.$v.form.meta_title.$model,callback:function(t){e.$set(e.$v.form.meta_title,"$model",t)},expression:"$v.form.meta_title.$model"}}),a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.categories.meta_title_character"))+" ")])],1),a("b-form-group",{attrs:{label:"Meta Description :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Description",rows:"3"},model:{value:e.form.meta_description,callback:function(t){e.$set(e.form,"meta_description",t)},expression:"form.meta_description"}})],1),a("CRow",{staticClass:"justify-content-end"},[a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"info",type:"submit",disabled:e.form.busy}},[e.form.busy?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e.form.busy?a("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("message.categories.loading")))]):e._e(),e._v(" "+e._s(e.editMode?this.$t("message.categories.update"):this.$t("message.categories.submit"))+" ")])],1),a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"dark"},on:{click:function(t){return e.$bvModal.hide("adminModal")}}},[e._v(e._s(e.$t("message.categories.close")))])],1)],1)],1)],1)],1)},r=[],i=a("2f62"),s=a("1dce"),n=a("b5ae"),l=a("fdb5"),c=a("bd28");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g={mixins:[s["validationMixin"]],name:"Category",data:function(){return{validation:!0,validation2:!0,editMode:!1,form:new Form({id:"",name:"",commision_rate:"",banner:"",icon:"",meta_title:"",slug:"",meta_description:""}),columns:["serial","name","banner","icon","action"],options:{headings:{serial:"#",name:"Category Name"},sortable:["name"],filterable:["name"]}}},validations:{form:{name:{required:n["required"],maxLength:Object(n["maxLength"])(50)},meta_title:{maxLength:Object(n["maxLength"])(255)},icon:{required:n["required"]}}},methods:{getProfilePhoto:function(e){return l["a"]+e},validateState:function(e){var t=this.$v.form[e],a=t.$dirty,o=t.$error;return a?!o:null},onInputChange:function(e){var t=this,a=e.target.files[0];if(!a.type.match("image.*"))return $("#fileErrorText").text(a.name+this.$t("message.categories.not_image")),void(this.validation=!1);if(a["size"]>2111775)return $("#fileErrorText").text(this.$t("message.categories.uploading_large_file")),void(this.validation=!1);this.validation=!0;var o=new FileReader;o.onload=function(e){t.form.banner=o.result},o.readAsDataURL(a)},onInputChange2:function(e){var t=this,a=e.target.files[0];if(!a.type.match("image.*"))return $("#fileErrorText2").text(a.name+this.$t("message.categories.not_image")),void(this.validation2=!1);if(a["size"]>2111775)return $("#fileErrorText2").text(this.$t("message.categories.uploading_large_file")),void(this.validation2=!1);this.validation2=!0;var o=new FileReader;o.onload=function(e){t.form.icon=o.result},o.readAsDataURL(a)},openModal:function(){this.validation=!0,this.$v.$reset(),this.form.reset(),this.form.clear(),this.editMode=!1,this.$bvModal.show("adminModal")},openModalEdit:function(e){this.validation=!0,this.$v.$reset(),this.form.reset(),this.form.clear(),this.form.fill(e),this.editMode=!0,this.$bvModal.show("adminModal")},createCategory:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.post("category").then((function(t){var a=t.data;e.$store.commit(c["a"],a),e.form.reset(),e.validation=!0,e.$bvModal.hide("adminModal"),toast.fire({icon:e.$t("message.common.succes"),title:e.$t("message.categories.category_add_successfully")})}))},updateCategory:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.put("category/"+this.form.id).then((function(t){var a=t.data;e.$store.commit(c["c"],a),e.form.reset(),e.validation=!0,e.$bvModal.hide("adminModal"),toast.fire({icon:e.$t("message.common.succes"),title:e.$t("message.categories.category_add_successfully")})}))},deleteCategory:function(e){var t=this;swal.fire({title:this.$t("message.categories.are_you_sure"),text:this.$t("message.categories.able_to_revert"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("message.categories.delete_it")}).then((function(a){a.value&&t.form.delete("category/"+e).then((function(a){"Error"===a.data.result?swal.fire(t.$t("message.common.error"),a.data.message,"warning"):(swal.fire(t.$t("message.common.deleted"),t.$t("message.categories.category_deleted"),t.$t("message.common.succes")),t.$store.commit(c["d"],e))})).catch((function(){swal.fire(t.$t("message.common.error"),t.$t("message.common.some_wrong"),"warning")}))}))}},created:function(){this.$store.dispatch(c["b"])},computed:d({},Object(i["b"])(["categoryList"]))},u=g,b=a("2877"),v=Object(b["a"])(u,o,r,!1,null,"27f99db1",null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0c7ef0.0acd5f4c.js.map