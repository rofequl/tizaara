(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9f48"],{"6a18":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[s("span",{staticClass:"text-uppercase page-subtitle"},[t._v(t._s(t.$t("message.flash_request.marketing"))+" ")]),s("h3",{staticClass:"page-title"},[t._v(t._s(t.$t("message.flash_request.flash_deals_request")))])])]),s("hr"),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-sm-6 col-md-4 col-xl-3"},[s("v-select",{attrs:{options:Object.values(t.supplierList),label:"first_name",placeholder:"Select Supplier",reduce:function(t){return t.id}},scopedSlots:t._u([{key:"option",fn:function(e){var s=e.first_name,a=e.last_name;return[t._v(" "+t._s(s+" "+a)+" ")]}},{key:"selected-option",fn:function(e){var s=e.first_name,a=e.last_name;return[t._v(" "+t._s(s+" "+a)+" ")]}}]),model:{value:t.supplier_id,callback:function(e){t.supplier_id=e},expression:"supplier_id"}})],1)]),s("div",{staticClass:"card card-body p-0"},[s("b-table",{attrs:{items:t.requestFlashDealList,fields:t.fields},scopedSlots:t._u([{key:"cell(image)",fn:function(e){return[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImage(e.value),expression:"showImage(data.value)"}],staticClass:"img-thumbnail",attrs:{width:"60px"}})]}},{key:"cell(action)",fn:function(e){return[s("b-button",{attrs:{variant:"success"},on:{click:function(s){return t.addFlashProduct(e.item.id)}}},[s("font-awesome-icon",{attrs:{icon:"plus"}})],1)]}}])})],1),s("b-modal",{attrs:{id:"brandModal",title:"Please select flash deal","hide-footer":""}},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[s("b-row",{staticClass:"my-3"},[s("b-col",{attrs:{sm:"12"}},[s("b-form-select",{attrs:{options:Object.values(t.flash_dealList),"text-field":"title","value-field":"id",state:t.validateState("flash_id")},model:{value:t.$v.form.flash_id.$model,callback:function(e){t.$set(t.$v.form.flash_id,"$model",e)},expression:"$v.form.flash_id.$model"}}),t.$v.form.flash_id.required?t._e():s("b-form-invalid-feedback",[t._v(" "+t._s(t.$t("message.flash_request.flash_required"))+" ")])],1)],1),s("b-row",{staticClass:"my-3 justify-content-end"},[s("b-col",{staticClass:"mb-3 mb-xl-0",attrs:{cols:"8",sm:"6",md:"4"}},[s("b-button",{staticClass:"text-white",attrs:{variant:"primary",type:"submit",size:"sm"}},[t._v(t._s(t.$t("message.flash_request.submit"))+" ")]),s("b-button",{staticClass:"text-white float-right",attrs:{variant:"secondary",type:"button",size:"sm"},on:{click:function(e){return t.$bvModal.hide("brandModal")}}},[t._v(t._s(t.$t("message.flash_request.close"))+" ")])],1)],1)],1)],1)],1)},i=[],r=s("2f62"),l=s("be7c"),n=s("9f1f"),o=s("fdb5"),c=s("1dce"),u=s("b5ae");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){m(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function m(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var h={mixins:[c["validationMixin"]],name:"FlashRequest",data:function(){return{form:{request_id:"",flash_id:""},supplier_id:"",fields:["image","product_name","user_name","discount","discount_type","action"]}},validations:{form:{flash_id:{required:u["required"]}}},methods:{validateState:function(t){var e=this.$v.form[t],s=e.$dirty,a=e.$error;return s?!a:null},showImage:function(t){return o["a"]+t},loadData:function(){var t="?";this.$store.dispatch(n["e"],t)},addFlashProduct:function(t){this.form.request_id=t,this.$bvModal.show("brandModal")},submit:function(){var t=this;if(this.$v.form.$touch(),!this.$v.form.$anyError){var e=this.form.request_id,s=this.form.flash_id;this.$bvModal.hide("brandModal"),this.$store.dispatch(n["d"],{request_id:e,flash_id:s}).then((function(){return toast.fire({icon:"success",title:t.$t("message.flash_request.flash_added")})})).catch((function(t){return console.log(t)}))}}},created:function(){this.loadData(),this.supplierList.length<1&&this.$store.dispatch(l["a"]),this.flash_dealList.length<1&&this.$store.dispatch(n["b"])},computed:f({},Object(r["b"])(["supplierList","requestFlashDealList","flash_dealList"]))},b=h,p=s("2877"),v=Object(p["a"])(b,a,i,!1,null,"cf5a695c",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0d9f48.102e110f.js.map