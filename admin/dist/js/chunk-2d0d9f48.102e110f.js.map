{"version":3,"sources":["webpack:///./src/components/marketing/FlashRequest.vue?ea2c","webpack:///src/components/marketing/FlashRequest.vue","webpack:///./src/components/marketing/FlashRequest.vue?ac5d","webpack:///./src/components/marketing/FlashRequest.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","Object","values","supplierList","name","id","scopedSlots","_u","key","fn","ref","first_name","last_name","model","value","callback","$$v","supplier_id","expression","requestFlashDealList","fields","data","directives","rawName","showImage","on","$event","addFlashProduct","item","preventDefault","submit","flash_dealList","validateState","$v","form","flash_id","$set","required","_e","$bvModal","hide","staticRenderFns","mixins","validations","methods","$dirty","$error","loadData","$store","dispatch","request_id","show","$touch","$anyError","created","length","computed","component"],"mappings":"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","file":"js/chunk-2d0d9f48.102e110f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0\"},[_c('span',{staticClass:\"text-uppercase page-subtitle\"},[_vm._v(_vm._s(_vm.$t(\"message.flash_request.marketing\"))+\" \")]),_c('h3',{staticClass:\"page-title\"},[_vm._v(_vm._s(_vm.$t(\"message.flash_request.flash_deals_request\")))])])]),_c('hr'),_c('div',{staticClass:\"row mb-3\"},[_c('div',{staticClass:\"col-sm-6 col-md-4 col-xl-3\"},[_c('v-select',{attrs:{\"options\":Object.values(_vm.supplierList),\"label\":\"first_name\",\"placeholder\":\"Select Supplier\",\"reduce\":function (name) { return name.id; }},scopedSlots:_vm._u([{key:\"option\",fn:function(ref){\nvar first_name = ref.first_name;\nvar last_name = ref.last_name;\nreturn [_vm._v(\" \"+_vm._s(first_name + ' ' + last_name)+\" \")]}},{key:\"selected-option\",fn:function(ref){\nvar first_name = ref.first_name;\nvar last_name = ref.last_name;\nreturn [_vm._v(\" \"+_vm._s(first_name + ' ' + last_name)+\" \")]}}]),model:{value:(_vm.supplier_id),callback:function ($$v) {_vm.supplier_id=$$v},expression:\"supplier_id\"}})],1)]),_c('div',{staticClass:\"card card-body p-0\"},[_c('b-table',{attrs:{\"items\":_vm.requestFlashDealList,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(image)\",fn:function(data){return [_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.showImage(data.value)),expression:\"showImage(data.value)\"}],staticClass:\"img-thumbnail\",attrs:{\"width\":\"60px\"}})]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.addFlashProduct(data.item.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus\"}})],1)]}}])})],1),_c('b-modal',{attrs:{\"id\":\"brandModal\",\"title\":\"Please select flash deal\",\"hide-footer\":\"\"}},[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit()}}},[_c('b-row',{staticClass:\"my-3\"},[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-select',{attrs:{\"options\":Object.values(_vm.flash_dealList),\"text-field\":\"title\",\"value-field\":\"id\",\"state\":_vm.validateState('flash_id')},model:{value:(_vm.$v.form.flash_id.$model),callback:function ($$v) {_vm.$set(_vm.$v.form.flash_id, \"$model\", $$v)},expression:\"$v.form.flash_id.$model\"}}),(!_vm.$v.form.flash_id.required)?_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(_vm.$t(\"message.flash_request.flash_required\"))+\" \")]):_vm._e()],1)],1),_c('b-row',{staticClass:\"my-3 justify-content-end\"},[_c('b-col',{staticClass:\"mb-3 mb-xl-0\",attrs:{\"cols\":\"8\",\"sm\":\"6\",\"md\":\"4\"}},[_c('b-button',{staticClass:\"text-white\",attrs:{\"variant\":\"primary\",\"type\":\"submit\",\"size\":\"sm\"}},[_vm._v(_vm._s(_vm.$t(\"message.flash_request.submit\"))+\" \")]),_c('b-button',{staticClass:\"text-white float-right\",attrs:{\"variant\":\"secondary\",\"type\":\"button\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$bvModal.hide('brandModal')}}},[_vm._v(_vm._s(_vm.$t(\"message.flash_request.close\"))+\" \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Page Header -->\n    <div class=\"row\">\n      <div class=\"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0\">\n        <span class=\"text-uppercase page-subtitle\">{{$t(\"message.flash_request.marketing\")}}\n        </span>\n        <h3 class=\"page-title\">{{$t(\"message.flash_request.flash_deals_request\")}}</h3>\n      </div>\n    </div>\n    <hr>\n    <!-- End Page Header -->\n    <div class=\"row mb-3\">\n      <div class=\"col-sm-6 col-md-4 col-xl-3\">\n        <v-select v-model=\"supplier_id\" :options=\"Object.values(supplierList)\" label=\"first_name\"\n                  placeholder=\"Select Supplier\"\n                  :reduce=\"name => name.id\">\n          <template #option=\"{ first_name, last_name }\">\n            {{ first_name + ' ' + last_name }}\n          </template>\n          <template #selected-option=\"{ first_name, last_name }\">\n            {{ first_name + ' ' + last_name }}\n          </template>\n        </v-select>\n      </div>\n    </div>\n    <div class=\"card card-body p-0\">\n      <b-table :items=\"requestFlashDealList\" :fields=\"fields\">\n        <template #cell(image)=\"data\">\n          <img v-lazy=\"showImage(data.value)\" class=\"img-thumbnail\" width=\"60px\">\n        </template>\n        <template #cell(action)=\"data\">\n          <b-button variant=\"success\" @click=\"addFlashProduct(data.item.id)\">\n            <font-awesome-icon icon=\"plus\"/>\n          </b-button>\n        </template>\n      </b-table>\n    </div>\n\n    <!-- Modal -->\n    <b-modal id=\"brandModal\" title=\"Please select flash deal\" hide-footer>\n      <b-form @submit.prevent=\"submit()\">\n        <b-row class=\"my-3\">\n          <b-col sm=\"12\">\n            <b-form-select v-model=\"$v.form.flash_id.$model\" :options=\"Object.values(flash_dealList)\" text-field=\"title\"\n                           value-field=\"id\"\n                           :state=\"validateState('flash_id')\">\n\n            </b-form-select>\n            <b-form-invalid-feedback v-if=\"!$v.form.flash_id.required\">\n              {{$t(\"message.flash_request.flash_required\")}}\n            </b-form-invalid-feedback>\n          </b-col>\n        </b-row>\n        <b-row class=\"my-3 justify-content-end\">\n          <b-col cols=\"8\" sm=\"6\" md=\"4\" class=\"mb-3 mb-xl-0\">\n            <b-button variant=\"primary\"\n                      type=\"submit\" size=\"sm\"\n                      class=\"text-white\">{{$t(\"message.flash_request.submit\")}}\n            </b-button>\n\n            <b-button variant=\"secondary\"\n                      type=\"button\" size=\"sm\" @click=\"$bvModal.hide('brandModal')\"\n                      class=\"text-white float-right\">{{$t(\"message.flash_request.close\")}}\n            </b-button>\n          </b-col>\n        </b-row>\n      </b-form>\n    </b-modal>\n    <!-- End Modal -->\n\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport {SUPPLIER_LIST} from \"@/core/services/store/user.module\";\nimport {\n  FLASH_DEALS_LIST,\n  PRODUCT_REQUEST_FLASH_DEAL,\n  REQUEST_FLASH_DEAL\n} from \"@/core/services/store/module/flash_deals\";\nimport {api_base_url} from \"@/core/config/app\";\nimport {validationMixin} from \"vuelidate\";\nimport {required} from \"vuelidate/lib/validators\";\n\nexport default {\n  mixins: [validationMixin],\n  name: \"FlashRequest\",\n  data() {\n    return {\n      form: {\n        'request_id': '',\n        'flash_id': ''\n      },\n      supplier_id: '',\n      fields: ['image', 'product_name', 'user_name', 'discount', 'discount_type', 'action']\n    }\n  },\n  validations: {\n    form: {\n      flash_id: {\n        required,\n      },\n    }\n  },\n  methods: {\n    validateState(name) {\n      const {$dirty, $error} = this.$v.form[name];\n      return $dirty ? !$error : null;\n    },\n    showImage(e) {\n      return api_base_url + e;\n    },\n    loadData() {\n      const url = '?';\n      this.$store.dispatch(REQUEST_FLASH_DEAL, url)\n    },\n    addFlashProduct(id) {\n      this.form.request_id = id;\n      this.$bvModal.show('brandModal');\n    },\n    submit() {\n      this.$v.form.$touch();\n      if (this.$v.form.$anyError) {\n        return;\n      }\n\n      const request_id = this.form.request_id;\n      const flash_id = this.form.flash_id;\n      this.$bvModal.hide('brandModal');\n      this.$store.dispatch(PRODUCT_REQUEST_FLASH_DEAL, {request_id, flash_id})\n          .then(() => toast.fire({\n            icon: 'success',\n            title: this.$t(\"message.flash_request.flash_added\")\n          }))\n          .catch((data) => console.log(data));\n    }\n  },\n  created() {\n    this.loadData();\n    this.supplierList.length < 1 ? this.$store.dispatch(SUPPLIER_LIST) : '';\n    this.flash_dealList.length < 1 ? this.$store.dispatch(FLASH_DEALS_LIST) : '';\n  },\n  computed: {\n    ...\n        mapGetters([\"supplierList\", \"requestFlashDealList\", \"flash_dealList\"])\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlashRequest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlashRequest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlashRequest.vue?vue&type=template&id=cf5a695c&scoped=true&\"\nimport script from \"./FlashRequest.vue?vue&type=script&lang=js&\"\nexport * from \"./FlashRequest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf5a695c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}