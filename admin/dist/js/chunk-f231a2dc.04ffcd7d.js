(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f231a2dc"],{"6ee2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"userUpdateModal",title:"Update an account","hide-footer":""}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateUser()},keydown:function(t){return e.form.onKeydown(t)}}},[a("b-form-radio-group",{attrs:{label:"Crate as ",state:e.validateState("account_type")},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("label",{staticClass:"mr-2"},[e._v("User role ")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"1"}},[e._v("Supplier")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"2"}},[e._v("Buyer")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"0"}},[e._v("Both")])]}}]),model:{value:e.$v.form.account_type.$model,callback:function(t){e.$set(e.$v.form.account_type,"$model",e._n(t))},expression:"$v.form.account_type.$model"}}),a("b-form-group",{attrs:{label:"First Name :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("first_name")},attrs:{placeholder:"First Name",state:e.validateState("first_name"),"aria-describedby":"BrandName"},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}}),e.$v.form.first_name.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.first_name_required"))+" ")]),e.$v.form.first_name.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.first_name_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"first_name"}})],1),a("b-form-group",{attrs:{label:"Last Name :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("last_name")},attrs:{placeholder:"Enter last name",state:e.validateState("last_name"),"aria-describedby":"BrandName"},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}}),e.$v.form.last_name.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.last_name_required"))+" ")]),e.$v.form.last_name.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.last_name_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"last_name"}})],1),a("b-form-group",{attrs:{label:"Email :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("email")},attrs:{placeholder:"Enter email address",state:e.validateState("email"),"aria-describedby":"BrandName"},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}}),e.$v.form.email.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.email_required"))+" ")]),e.$v.form.email.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.email_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"last_name"}})],1),a("b-form-group",{attrs:{label:"Phone number :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("mobile")},attrs:{placeholder:"Enter phone number",state:e.validateState("mobile"),"aria-describedby":"BrandName"},model:{value:e.$v.form.mobile.$model,callback:function(t){e.$set(e.$v.form.mobile,"$model",t)},expression:"$v.form.mobile.$model"}}),e.$v.form.mobile.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.phone_number"))+" ")]),e.$v.form.mobile.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.phone_number_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"phone"}})],1),a("b-form-group",{attrs:{label:"Select Membership plan","label-cols-sm":"5","label-cols-lg":"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.membership_plan_id,expression:"form.membership_plan_id"}],staticClass:"form-control",attrs:{name:"membership_plan_id",placeholder:"select membership plan"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"membership_plan_id",t.target.multiple?a:a[0])}}},e._l(e.membership_plans,(function(t,r){return a("option",{key:r,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),a("CRow",{staticClass:"justify-content-end"},[a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"info",type:"submit",disabled:e.form.busy}},[e.form.busy?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e.form.busy?a("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("message.brand.loading")))]):e._e(),e._v(" "+e._s(e.editMode?this.$t("message.brand.update"):this.$t("message.brand.submit"))+" ")])],1),a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"dark"},on:{click:function(t){return e.$bvModal.hide("userUpdateModal")}}},[e._v(e._s(e.$t("message.brand.close")))])],1)],1)],1)],1)},s=[],o=a("b5ae"),i=a("1dce"),n=a("7b99"),l={name:"UserEditModal",mixins:[i["validationMixin"]],props:{user_info:{type:Object,required:!0}},data:function(){return{editMode:!1,validation:!0,membership_plans:[],form:new Form({first_name:"",last_name:"",email:"",mobile:"",account_type:1,membership_plan_id:""})}},validations:{form:{first_name:{required:o["required"],maxLength:Object(o["maxLength"])(50)},last_name:{required:o["required"],maxLength:Object(o["maxLength"])(50)},email:{required:o["required"],email:o["email"],maxLength:Object(o["maxLength"])(50)},mobile:{required:o["required"],maxLength:Object(o["maxLength"])(50)},account_type:{required:o["required"]}}},created:function(){this.getMembershipPlan(),this.form.first_name=this.user_info.first_name,this.form.last_name=this.user_info.last_name,this.form.email=this.user_info.email,this.form.mobile=this.user_info.mobile,this.form.account_type=this.user_info.account_type,this.form.membership_plan_id=this.user_info.membership_plan_id},methods:{openModal:function(){this.validation=!0,this.$v.$reset(),this.form.reset(),this.form.clear(),this.editMode=!1,this.$bvModal.show("userUpdateModal")},validateState:function(e){var t=this.$v.form[e],a=t.$dirty,r=t.$error;return a?!r:null},updateUser:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.post("admin/user/information/update/from/admin".concat(this.user_info.id)).then((function(t){e.form.reset(),e.$bvModal.hide("userUpdateModal"),toast.fire({icon:e.$t("message.common.succes"),title:t.data.message}),e.$store.dispatch("SELLER_LIST"),e.$store.dispatch("CUSTOMER_LIST")})).catch((function(e){toast.fire({icon:"error",title:e.response.data.message})}))},getMembershipPlan:function(){var e=this;n["a"].get("get/only/membership/plan").then((function(t){e.membership_plans=t.data})).catch((function(){e.membership_plans=[]}))}},watch:{user_info:function(){this.form.first_name=this.user_info.first_name,this.form.last_name=this.user_info.last_name,this.form.email=this.user_info.email,this.form.mobile=this.user_info.mobile,this.form.account_type=this.user_info.account_type,this.form.membership_plan_id=this.user_info.membership_plan_id}}},m=l,d=a("2877"),c=Object(d["a"])(m,r,s,!1,null,null,null);t["a"]=c.exports},b3e6:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:"brandModal",title:"Create an account","hide-footer":""}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.createUser()},keydown:function(t){return e.form.onKeydown(t)}}},[a("b-form-radio-group",{attrs:{label:"Create as ",state:e.validateState("account_type")},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.ariaDescribedby;return[a("label",{staticClass:"mr-2"},[e._v("Create as ")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"1"}},[e._v("Supplier")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"2"}},[e._v("Buyer")]),a("b-form-radio",{attrs:{"aria-describedby":r,name:"account_type",value:"0"}},[e._v("Both")])]}}]),model:{value:e.$v.form.account_type.$model,callback:function(t){e.$set(e.$v.form.account_type,"$model",e._n(t))},expression:"$v.form.account_type.$model"}}),a("b-form-group",{attrs:{label:"First Name :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("first_name")},attrs:{placeholder:"First Name",state:e.validateState("first_name"),"aria-describedby":"BrandName"},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}}),e.$v.form.first_name.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.first_name_required"))+" ")]),e.$v.form.first_name.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.first_name_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"first_name"}})],1),a("b-form-group",{attrs:{label:"Last Name :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("last_name")},attrs:{placeholder:"Enter last name",state:e.validateState("last_name"),"aria-describedby":"BrandName"},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}}),e.$v.form.last_name.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.last_name_required"))+" ")]),e.$v.form.last_name.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.last_name_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"last_name"}})],1),a("b-form-group",{attrs:{label:"Email :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("email")},attrs:{placeholder:"Enter email address",state:e.validateState("email"),"aria-describedby":"BrandName"},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}}),e.$v.form.email.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.email_required"))+" ")]),e.$v.form.email.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.email_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"last_name"}})],1),a("b-form-group",{attrs:{label:"Phone number :","label-cols-sm":"5","label-cols-lg":"4"}},[a("b-form-input",{staticClass:"form-control form-control-solid h-auto",class:{"is-invalid":e.form.errors.has("mobile")},attrs:{placeholder:"Enter phone number",state:e.validateState("mobile"),"aria-describedby":"BrandName"},model:{value:e.$v.form.mobile.$model,callback:function(t){e.$set(e.$v.form.mobile,"$model",t)},expression:"$v.form.mobile.$model"}}),e.$v.form.mobile.required?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.phone_number"))+" ")]),e.$v.form.mobile.maxLength?e._e():a("b-form-invalid-feedback",[e._v(" "+e._s(e.$t("message.register.phone_number_max_50"))+" ")]),a("has-error",{attrs:{form:e.form,field:"phone"}})],1),a("b-form-group",{attrs:{label:"Select Membership plan","label-cols-sm":"5","label-cols-lg":"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.membership_plan_id,expression:"form.membership_plan_id"}],staticClass:"form-control",attrs:{name:"membership_plan_id",placeholder:"select membership plan"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"membership_plan_id",t.target.multiple?a:a[0])}}},e._l(e.membership_plans,(function(t,r){return a("option",{key:r,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),a("CRow",{staticClass:"justify-content-end"},[a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"info",type:"submit",disabled:e.form.busy}},[e.form.busy?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e.form.busy?a("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("message.brand.loading")))]):e._e(),e._v(" "+e._s(e.editMode?this.$t("message.brand.update"):this.$t("message.brand.submit"))+" ")])],1),a("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"4",sm:"4",md:"3"}},[a("CButton",{attrs:{block:"",color:"dark"},on:{click:function(t){return e.$bvModal.hide("brandModal")}}},[e._v(e._s(e.$t("message.brand.close")))])],1)],1)],1)],1)},s=[],o=a("fdb5"),i=a("b5ae"),n=a("1dce"),l=a("7b99"),m={name:"UserAddModal",mixins:[n["validationMixin"]],data:function(){return{editMode:!1,validation:!0,membership_plans:[],form:new Form({id:"",first_name:"",last_name:"",email:"",mobile:"",account_type:1,membership_plan_id:""})}},validations:{form:{first_name:{required:i["required"],maxLength:Object(i["maxLength"])(50)},last_name:{required:i["required"],maxLength:Object(i["maxLength"])(50)},email:{required:i["required"],email:i["email"],maxLength:Object(i["maxLength"])(50)},mobile:{required:i["required"],maxLength:Object(i["maxLength"])(50)},account_type:{required:i["required"]}}},created:function(){this.getMembershipPlan()},methods:{openModal:function(){this.validation=!0,this.$v.$reset(),this.form.reset(),this.form.clear(),this.editMode=!1,this.$bvModal.show("brandModal")},onInputChange:function(e){var t=this,a=e.target.files[0];if(!a.type.match("image.*"))return $("#fileErrorText").text(a.name+this.$t("message.brand.not_image")),void(this.validation=!1);if(a["size"]>2111775)return $("#fileErrorText").text(this.$t("message.brand.uploading_large_file")),void(this.validation=!1);this.validation=!0;var r=new FileReader;r.onload=function(e){t.form.logo=r.result},r.readAsDataURL(a)},validateState:function(e){var t=this.$v.form[e],a=t.$dirty,r=t.$error;return a?!r:null},showImage:function(e){return o["a"]+e},createUser:function(){var e=this;this.$v.form.$touch(),this.$v.form.$anyError||this.form.post("admin/user/registration/from/admin").then((function(t){e.form.reset(),e.$bvModal.hide("brandModal"),toast.fire({icon:e.$t("message.common.succes"),title:t.data.message}),e.$store.dispatch("SELLER_LIST"),e.$store.dispatch("CUSTOMER_LIST")})).catch((function(e){toast.fire({icon:"error",title:e.response.data.message})}))},getMembershipPlan:function(){var e=this;l["a"].get("get/only/membership/plan").then((function(t){e.membership_plans=t.data})).catch((function(){e.membership_plans=[]}))}}},d=m,c=a("2877"),f=Object(c["a"])(d,r,s,!1,null,null,null);t["a"]=f.exports},f31f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[a("span",{staticClass:"text-uppercase page-subtitle"},[e._v(e._s(e.$t("message.customer_list.customers"))+" ")]),a("h3",{staticClass:"page-title"},[e._v(e._s(e.$t("message.customer_list.customers_list")))])]),a("div",{staticClass:"col-12 col-sm-6 d-flex align-items-center"},[a("div",{staticClass:"mx-auto ml-sm-auto mr-sm-0"},[a("CButton",{attrs:{block:"",color:"info"},on:{click:e.openModal}},[e._v(e._s(e.$t("message.customer_list.add_new_customer")))])],1)])]),a("div",{staticClass:"dataTables_wrapper no-footer my-5",attrs:{id:"people"}},[a("v-client-table",{staticClass:"text-center",attrs:{data:e.customerList,columns:e.columns,options:e.options},scopedSlots:e._u([{key:"serial",fn:function(t){return a("div",{},[e._v(" "+e._s(t.index)+" ")])}},{key:"image",fn:function(t){return a("div",{},[a("img",{staticClass:"avatar img-fluid img-thumbnail",attrs:{src:0==t.row.photo_type?e.showImage(t.row.photo):t.row.photo,width:"60px"}})])}},{key:"name",fn:function(t){return a("div",{},[e._v(" "+e._s(t.row.first_name+" "+t.row.last_name)+" ")])}},{key:"options",fn:function(t){return a("div",{},[a("b-dropdown",{staticClass:"m-md-2",attrs:{text:"Actions",size:"sm",variant:"primary"}},[a("b-dropdown-item",{on:{click:function(a){return e.userUpdateModalOpen(t.row)}}},[e._v(e._s(e.$t("message.customer_list.edit"))+" ")]),a("b-dropdown-item",[e._v(e._s(e.$t("message.customer_list.payment_history")))]),a("b-dropdown-item",{on:{click:function(a){return e.selectApprove(t.row)}}},[e._v(" "+e._s(3==t.row.status?e.$t("message.customer_list.enable"):e.$t("message.customer_list.disable"))+" ")]),a("b-dropdown-item",{on:{click:function(a){return e.deleteCustomer(t.row.id)}}},[e._v("Delete")])],1)],1)}}])})],1),a("user-add-modal"),a("user-edit-modal",{attrs:{user_info:e.selected_user}})],1)},s=[],o=a("2f62"),i=a("fdb5"),n=a("b3e6"),l=a("6ee2");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f={name:"CustomerList",components:{UserAddModal:n["a"],UserEditModal:l["a"]},data:function(){return{columns:["serial","image","name","email","options"],form:new Form({id:""}),options:{headings:{serial:"#",name:"Name"},sortable:["name"],filterable:["name","email"]},selected_user:{}}},methods:{showImage:function(e){return i["a"]+e},selectApprove:function(e){var t=2==e.status?3:2;this.$store.dispatch("UPDATE_CUSTOMER_STATUS",{id:e.id,status:t})},openModal:function(){this.$bvModal.show("brandModal")},userUpdateModalOpen:function(e){this.selected_user=e,this.$emit("change_data","sent data"),this.$bvModal.show("userUpdateModal")},deleteCustomer:function(e){var t=this;swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&t.form.delete("customer/"+e).then((function(a){"Error"===a.data.result?swal.fire(t.$t("message.common.error"),a.data.message,"warning"):(swal.fire(t.$t("message.common.deleted"),"Customer has been deleted.",t.$t("message.common.succes")),t.$store.commit("CUSTOMER_REMOVE",e))})).catch((function(){swal.fire(t.$t("message.common.error"),t.$t("message.common.some_wrong"),"warning")}))}))}},created:function(){!this.customerList.length>0&&this.$store.dispatch("CUSTOMER_LIST")},computed:d({},Object(o["b"])(["customerList"]))},u=f,b=a("2877"),_=Object(b["a"])(u,r,s,!1,null,"000703a4",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-f231a2dc.04ffcd7d.js.map