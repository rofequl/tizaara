(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a55a08c"],{5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var s=a("ade3");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"7a3c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content pr-md-5"},[a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-4 mb-sm-0"},[a("span",{staticClass:"text-uppercase page-subtitle"},[t._v(t._s(t.$t("message.quotation.marketing"))+" ")]),a("h3",{staticClass:"page-title"},[t._v(t._s(t.$t("message.quotation.quotation_list")))])])]),a("div",[a("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Search","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-table",{attrs:{striped:"",hover:"",items:t.quotationList,fields:t.fields,filter:t.filter,"current-page":t.currentPage,"per-page":t.perPage,stacked:"md","show-empty":"",small:""},scopedSlots:t._u([{key:"cell(SL)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t.moment(t.timeFind(e.item),"YYYYMMDD").fromNow())+" ")]}},{key:"cell(status)",fn:function(e){return[a("p",{style:1==t.statusFind(e.item)?"color:green":"color:red"},[t._v(t._s(t.status[t.statusFind(e.item)]))])]}},{key:"cell(actions)",fn:function(e){return[0==t.statusFind(e.item)?[a("b-button",{staticClass:"mr-1 btn-primary",attrs:{size:"sm"},on:{click:function(a){t.accept(t.idFind(e.item))}}},[t._v(" Accept ")]),a("b-button",{staticClass:"mr-1 btn-danger",attrs:{size:"sm"},on:{click:function(a){t.cancel(t.idFind(e.item))}}},[t._v(" Cancel ")])]:t._e(),1==t.statusFind(e.item)?[a("b-button",{staticClass:"mr-1 btn-danger",attrs:{size:"sm"},on:{click:function(a){return t.viewBuyer(e.item)}}},[a("i",{staticClass:"fa fa-eye"})])]:t._e()]}}])}),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"3"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[a("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"5"}}),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"4"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)]),a("div",{staticClass:"modal fade",attrs:{id:"cancelModal",tabindex:"-1",role:"dialog","aria-labelledby":"login","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body container col-sm-12"},[a("div",{staticClass:"contact-supplier"},[a("form",{attrs:{method:"post",action:"javascript:void(0)"},on:{submit:t.submitCancelForm}},[a("div",{staticClass:"main-warp"},[a("div",{staticClass:"message"},[a("b-form-textarea",{attrs:{size:"sm",name:"note",placeholder:"Write reason for why you cancel RFQ",rows:"4",required:""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)]),t._m(1)])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"buyerModal",tabindex:"-1",role:"dialog","aria-labelledby":"login","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body container col-sm-12"},[a("div",{staticClass:"contact-supplier"},[a("form",{attrs:{method:"post",action:"javascript:void(0)"}},[a("div",{staticClass:"main-warp"},[a("table",{staticClass:"table table-striped table-bordered table-sm",attrs:{id:"dtBasicExample",cellspacing:"0",width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("Name")]),a("th",[t._v(t._s(t.selected_buyer.user?t.selected_buyer.user.full_name:""))])]),a("tr",[a("th",[t._v("Email")]),a("th",[t._v(t._s(t.selected_buyer.user?t.selected_buyer.user.email:""))])]),a("tr",[a("th",[t._v("Phone Number")]),a("th",[t._v(t._s(t.selected_buyer.user?t.selected_buyer.user.mobile:""))])])])])])])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"contact_modal_title"}},[t._v("Cancel RFQ")]),a("button",{staticClass:"close",staticStyle:{float:"right"},attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col text-right",staticStyle:{"text-align":"right",padding:"12px 20px"}},[a("button",{staticClass:"btn btn-primary btn-lg submit",attrs:{type:"submit"}},[t._v(" Submit ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",attrs:{id:"buyer_modal_title"}},[t._v("Buyer Information")]),a("button",{staticClass:"close",staticStyle:{float:"right"},attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=a("5530"),r=(a("99af"),a("bf55")),l=a("2f62"),o=a("7b99"),c=a("c1df"),u=a.n(c),d={name:"quotation",data:function(){return{moment:u.a,filter:null,totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,20,50,{value:100,text:"Show a lot"}],fields:[{label:"SL",key:"SL",sortable:!1},{key:"product",sortable:!0},{key:"details",sortable:!1},{key:"quantity",sortable:!1},{key:"unit.name",label:"Unite",sortable:!0},{key:"created_at",label:"Request at",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"actions",label:"Actions",sortable:!1}],status:{0:"Pending",1:"Accepted",2:"Canceled"},note:"",cancel_id:null,selected_buyer:{}}},created:function(){this.$store.dispatch(r["a"]);var t=document.createElement("script");t.setAttribute("src","https://unpkg.com/sweetalert2@7.19.1/dist/sweetalert2.all.js"),t.async=!0,document.head.appendChild(t)},methods:{statusFind:function(t){return t.quotation_users?t.quotation_users[0].status:null},idFind:function(t){return t.quotation_users?t.quotation_users[0].id:null},timeFind:function(t){return t.quotation_users?t.quotation_users[0].created_at:null},accept:function(t){var e=this;swal({title:"Are you sure?",text:"You want to accept this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, accept it!",cancelButtonText:"No, cancel!",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1,reverseButtons:!0}).then((function(a){a.value&&o["a"].post("supplier/quotation/accept".concat(t)).then((function(t){e.$toaster.success(t.data.message),e.$store.dispatch(r["a"])})).catch((function(t){e.$toaster.error(t)}))}))},cancel:function(t){this.note="",this.cancel_id=t,$("#cancelModal").modal("show")},submitCancelForm:function(){var t=this;o["a"].post("supplier/quotation/cancel".concat(this.cancel_id,"/").concat(this.note)).then((function(e){t.$toaster.success(e.data.message),$("#cancelModal").modal("hide"),t.cancel_id=null,t.$store.dispatch(r["a"])})).catch((function(e){t.$toaster.error(e.response.data.message)}))},viewBuyer:function(t){this.selected_buyer=t,$("#buyerModal").modal("show")}},computed:Object(n["a"])({},Object(l["b"])(["quotationList"]))},b=d,m=a("2877"),p=Object(m["a"])(b,s,i,!1,null,"20aab41b",null);e["default"]=p.exports},b64b:function(t,e,a){var s=a("23e7"),i=a("7b0b"),n=a("df75"),r=a("d039"),l=r((function(){n(1)}));s({target:"Object",stat:!0,forced:l},{keys:function(t){return n(i(t))}})},dbb4:function(t,e,a){var s=a("23e7"),i=a("83ab"),n=a("56ef"),r=a("fc6a"),l=a("06cf"),o=a("8418");s({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,a,s=r(t),i=l.f,c=n(s),u={},d=0;while(c.length>d)a=i(s,e=c[d++]),void 0!==a&&o(u,e,a);return u}})},e439:function(t,e,a){var s=a("23e7"),i=a("d039"),n=a("fc6a"),r=a("06cf").f,l=a("83ab"),o=i((function(){r(1)})),c=!l||o;s({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})}}]);
//# sourceMappingURL=chunk-0a55a08c.deb70712.js.map