(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29c01c81"],{2532:function(t,e,a){"use strict";var i=a("23e7"),r=a("5a34"),s=a("1d80"),n=a("ab13");i({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(s(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var i=a("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var n=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){return r(t)||s(t)||Object(n["a"])(t)||c()}},"44e7":function(t,e,a){var i=a("861d"),r=a("c6b6"),s=a("b622"),n=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==r(t))}},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5a34":function(t,e,a){var i=a("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"74c8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-list-wrapper",staticStyle:{"min-height":"80vh"}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"sidebar-filter-wrapper"},[a("div",{staticClass:"sidebar-item-wrapper"},[a("h3",[a("a",{attrs:{"data-toggle":"collapse",href:"#related-category",role:"button","aria-expanded":"true","aria-controls":"related-category"}},[t._v(t._s("Related City"))])]),a("div",{staticClass:"collapse show",attrs:{id:"related-category"}},[a("ul",t._l(t.cities.slice(0,20),(function(e){return a("li",{key:e.id},[a("a",{class:t.top_city_id==e.id?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(a){return a.preventDefault(),t.changeURL(e.id)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)])])])]),a("div",{staticClass:"col-sm-9"},[a("div",[a("nav",{staticClass:"breadcrumb-nav border-0 mb-0",attrs:{"aria-label":"breadcrumb"}},[a("div",{staticClass:"container d-flex align-items-center"},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/"}},[t._v(" "+t._s("Home")+" ")])],1),a("li",{staticClass:"breadcrumb-item"},[t._v(" "+t._s("Top City")+" ")]),a("li",{staticClass:"breadcrumb-item"},[t._v(" "+t._s(t.city?t.city.name:"")+" ")]),a("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[a("a",[t._v("("+t._s(t.product_list?t.product_list.length:0)+" "+t._s(t.$t("message.product_new.results"))+")")])])])])]),a("div",{staticClass:"top-filter"},[a("div",{staticClass:"filters"},[a("div",{staticClass:"filter-item mr-4"},[a("span",{staticClass:"filter-label"},[t._v(t._s(t.$t("message.product_new.price"))+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.min_value,expression:"min_value",modifiers:{number:!0}}],staticClass:"form-control text-center",staticStyle:{width:"60px"},attrs:{type:"text",placeholder:t.$t("message.product_created.min")},domProps:{value:t.min_value},on:{input:function(e){e.target.composing||(t.min_value=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("span",[t._v(" - ")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.max_value,expression:"max_value",modifiers:{number:!0}}],staticClass:"form-control text-center",staticStyle:{width:"60px"},attrs:{type:"text",placeholder:t.$t("message.product_created.max")},domProps:{value:t.max_value},on:{input:function(e){e.target.composing||(t.max_value=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t.product_brands.length>0?a("div",{staticClass:"filter-item mr-4"},[a("span",{staticClass:"filter-label"},[t._v(t._s(t.$t("message.product_new.brand")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.brand_id,expression:"brand_id"}],staticClass:"form-control",attrs:{title:"Brand"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.brand_id=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[t._v(t._s(t.$t("message.product_new.select_one")))]),t._l(t.product_brands,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]):t._e(),t.product_colors.length>0?a("div",{staticClass:"filter-item mr-4"},[a("span",{staticClass:"filter-label"},[t._v(t._s(t.$t("message.product_new.color")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.color_name,expression:"color_name"}],staticClass:"form-control",attrs:{title:"Brand"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.color_name=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}},[t._v(t._s(t.$t("message.product_new.select_one")))]),t._l(t.product_colors,(function(e){return a("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])}))],2)]):t._e(),a("div",{staticClass:"filter-item mr-4"},[a("span",{staticClass:"filter-label"},[t._v(t._s(t.$t("message.product_new.sort_by")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sort_by,expression:"sort_by"}],staticClass:"form-control",attrs:{title:"Sort by"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort_by=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"new"}},[t._v(t._s(t.$t("message.product_new.new_item")))]),a("option",{attrs:{value:"old"}},[t._v(t._s(t.$t("message.product_new.old_items")))])])])]),a("div",{staticClass:"filter-view-item"},[a("span",[t._v(t._s(t.$t("message.product_new.view_by")))]),a("a",{class:"Suppliers"===t.type?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.viewBySelect("Suppliers")}}},[a("i",{staticClass:"fas fa-th-list"})]),a("a",{class:"Products"===t.type?"active pro":"pro",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.viewBySelect("Products")}}},[a("i",{staticClass:"fas fa-th-large"})])])]),t.product_list&&t.product_list.length>0&&"Suppliers"===t.type?a("div",t._l(t.product_list,(function(e,i){return e.user?a("div",{key:i,staticClass:"items-lest-wrapper"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"img-fluid",attrs:{src:t.showImage(e.thumbnail_img),alt:""}})])]),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"item-key"},[a("div",{staticClass:"cat-wrapper"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-7"},[a("div",{staticClass:"cat-1"},[a("h4",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.productPage(e.slug)}}},[t._v(t._s(e.name))])]),t._l(t.jsonDecode(e.property_options),(function(i,r){return e.property_options?a("p",{key:r},[i.label&&i.is_show?a("span",[a("span",{staticStyle:{color:"#888"}},[t._v(t._s(i.label)+":")]),t._v(" "+t._s(i.value)+" ")]):t._e()]):t._e()})),t.jsonDecode(e.colors).length>0?a("p",[a("span",{staticStyle:{color:"#888"}},[t._v("Colors :")]),t._l(t.jsonDecode(e.colors),(function(i,r){return a("span",[t._v(" "+t._s(i)+t._s(r+1!=t.jsonDecode(e.colors).length?",":"")+" ")])}))],2):t._e(),e.brand?a("p",[a("span",{staticStyle:{color:"#888"}},[t._v("Brand :")]),a("span",[t._v(t._s(e.brand.name))])]):t._e(),a("div",{staticClass:"price-cat"},[a("div",{staticClass:"price"},[a("h5",{staticClass:"hot-price"},[t._v(t._s(e.currency?e.currency.symbol:null)+" "+t._s(t.totalPrice(e))+" ")])])]),a("a",{staticClass:"view-link",attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.productPage(e.slug)}}},[t._v(t._s(t.$t("message.product_new.view_details")))])],2)]),a("div",{staticClass:"col-sm-5",staticStyle:{"border-left":"1px solid #ddd"}},[a("div",{staticClass:"cat-2"},[a("h4",[a("a",{attrs:{href:""}},[t._v(t._s(e.user&&e.user.company_basic_info?e.user.company_basic_info.name:""))])]),a("span",{staticClass:"d-block",staticStyle:{color:"#888"}},[t._v(t._s(e.user&&e.user.company_basic_info?e.user.company_basic_info.office_space:""))]),e.user&&e.user.company_basic_info?a("span",{staticClass:"d-block",staticStyle:{color:"#888"}},t._l(t.businessTypes(e.user.company_basic_info),(function(i,r){return a("span",[t._v(t._s(i.name)+t._s(r+1!=t.businessTypes(e.user.company_basic_info).length?",":""))])})),0):t._e(),e.user&&(e.user.company_basic_info&&null!=e.user.company_basic_info.phone)?a("div",{staticClass:"call-center"},[a("a",{staticClass:"mobile",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fas fa-phone-alt"}),t._v(" "+t._s(t.$t("message.product_new.call"))+" "),a("span",{staticStyle:{background:"#fff",padding:"5px","margin-left":"8px"}},[t._v(t._s(e.user&&e.user.company_basic_info?e.user.company_basic_info.phone:""))])])]):t._e(),a("a",{staticStyle:{display:"inline-block",background:"#f05931",padding:"5px 10px","margin-top":"25px","font-size":"14px",color:"#fff","border-radius":"3px"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.contactSupplier(e)}}},[a("i",{staticClass:"far fa-envelope mr-1"}),t._v(" "+t._s(t.$t("message.product_new.contact_supplier")))])])])])])])])])]):t._e()})),0):t._e(),"Products"===t.type?a("div",{staticClass:"item-container"},t._l(t.product_list,(function(e,i){return e.user?a("a",{key:i,staticClass:"product-item",attrs:{title:"Fila Exolize 2",href:"javascript:void(0)"},on:{click:function(a){return t.productPage(e.slug)}}},[a("div",{staticClass:"item-box"},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"pdp-mod-wishlist",style:t.isAuthenticated&&t.checkFavorite(e.id)?"float: right;color: red":"float: right",on:{click:function(a){return a.stopPropagation(),t.onFavorite(e)}}},[a("i",{staticClass:"fa fa-heart"})]),a("img",{staticClass:"equalHeightWidth",attrs:{src:t.showImage(e.thumbnail_img),alt:"Fila Exolize 2"}})]),a("div",{staticClass:"caption"},[a("div",{staticClass:"product-title"},[a("h6",{attrs:{title:"Fila Exolize 2"},on:{click:function(a){return t.productPage(e.slug)}}},[t._v(t._s(e.name))])]),t.jsonDecode(e.colors).length>0?a("span",[a("span",{staticStyle:{color:"#888"}},[t._v("Colors :")]),t._l(t.jsonDecode(e.colors),(function(i,r){return a("span",[t._v(" "+t._s(i)+t._s(r+1!=t.jsonDecode(e.colors).length?",":"")+" ")])}))],2):t._e(),a("br"),e.brand?a("p",[a("span",{staticStyle:{color:"#888"}},[t._v("Brand :")]),a("span",[t._v(t._s(e.brand.name))])]):t._e(),a("div",{staticClass:"pdp-block"},[a("h5",{staticClass:"price"},[t._v(t._s(e.currency?e.currency.symbol:null)+" "+t._s(t.totalPrice(e))+" ")])])])])]):t._e()})),0):t._e()])])])])])},r=[],s=a("5530"),n=a("2909"),c=(a("4de4"),a("d81d"),a("caad"),a("2532"),a("2f62")),o=a("7b99"),l=a("fdb5"),u=(a("2ef0"),a("160a")),p=a("603d"),d=a("c1df"),_=a.n(d),f=a("1671"),m={name:"TopCityProduct",props:{top_city_id:{required:!0}},data:function(){return{moment:_.a,page_info:{busy:!1,total:"",current_page:1,distance:200},min_value:null,max_value:null,brand_id:null,color_name:null,sort_by:"new",type:"Suppliers",city:"",cities:[]}},methods:{contactSupplier:function(t){this.isAuthenticated?(this.$store.dispatch(u["a"],t),$("#contact_modal").modal("show")):($("#reg").modal("hide"),$("#login").modal("show"))},productPage:function(t){this.$router.push({name:"single.product",params:{slug:t}})},showImage:function(t){return l["a"]+t},changeURL:function(t){this.top_city_id!=t&&this.$router.push({name:"top.city.product",params:{top_city_id:t}})},checkFavorite:function(t){var e=this;return!!this.isAuthenticated&&this.user_favorites.filter((function(a){if(a.product_id==t&&a.user_id==e.user.id)return a})).length>0},onFavorite:function(t){var e=this;if(!this.isAuthenticated)return swal.fire(this.$t("message.headers.login_now"),this.$t("message.common.please_login"),"warning"),!1;o["a"].post("user-product-favorite/"+t.id).then((function(){e.$store.dispatch(p["a"]),toast.fire({icon:"success",title:e.$t("message.common.success")})})).catch((function(){swal.fire(e.$t("message.headers.login_now"),e.$t("message.common.please_login"),"warning")}))},viewBySelect:function(t){this.type=t},loadProduct:function(){var t="top/city/products".concat(this.top_city_id);this.$store.dispatch(u["b"],t)},totalPrice:function(t){if(0==t.priceType)return t.unit_price;if(1==t.priceType&&t.product_stock.length>0){var e=Math.max.apply(Math,Object(n["a"])(t.product_stock.map((function(t){return t.price})))),a=Math.min.apply(Math,Object(n["a"])(t.product_stock.map((function(t){return t.price}))));return a+"-"+e}if(2==t.priceType&&t.price_variation.length>0){var i=Math.max.apply(Math,Object(n["a"])(t.price_variation.map((function(t){return t.off_price})))),r=Math.min.apply(Math,Object(n["a"])(t.price_variation.map((function(t){return t.off_price}))));return r+"-"+i}},businessTypes:function(t){return t.business_types?t.business_types:[]},jsonDecode:function(t){return JSON.parse(t)}},created:function(){this.isAuthenticated&&this.$store.dispatch(p["a"]),this.cityList.length<1&&this.$store.dispatch(f["a"]),this.city=this.$store.getters.getCityNameById(parseInt(this.top_city_id)),this.city&&(this.cities=this.$store.getters.getCityById(parseInt(this.city.division_id))),this.loadProduct()},computed:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["isAuthenticated","user","user_favorites","product_brands","product_colors","cityList"])),{},{product_list:function(){var t=this,e=this.$store.getters.product_lists;if(e=e.map((function(t){if(t.user)return t})).filter(Boolean),this.min_value&&(e=e.map((function(e){if(0==e.priceType){if(e.unit_price>=t.min_value)return e}else if(1==e.priceType&&e.product_stock.length>0){var a=Math.min.apply(Math,Object(n["a"])(e.product_stock.map((function(t){return t.price}))));if(a>=t.min_value)return e}else if(2==e.priceType&&e.price_variation.length>0){var i=Math.min.apply(Math,Object(n["a"])(e.price_variation.map((function(t){return t.off_price}))));if(i>=t.min_value)return e}})).filter(Boolean)),this.max_value&&(e=e.map((function(e){if(0==e.priceType){if(e.unit_price<=t.max_value)return e}else if(1==e.priceType&&e.product_stock.length>0){var a=Math.max.apply(Math,Object(n["a"])(e.product_stock.map((function(t){return t.price}))));if(a<=t.max_value)return e}else if(2==e.priceType&&e.price_variation.length>0){var i=Math.max.apply(Math,Object(n["a"])(e.price_variation.map((function(t){return t.off_price}))));if(i<=t.max_value)return e}})).filter(Boolean)),this.brand_id&&(e=e.map((function(e){if(e.brand_id==t.brand_id)return e})).filter(Boolean)),this.color_name&&(e=e.map((function(e){if(e.colors&&JSON.parse(e.colors).includes(t.color_name))return e})).filter(Boolean)),"new"==this.sort_by||"old"==this.sort_by){var a=this.sort_by;e=e.sort((function(t,e){return"new"==a?_()(t.updated_at).format("YMMDD")<_()(e.updated_at).format("YMMDD")?1:-1:"old"==a?_()(t.updated_at).format("YMMDD")>_()(e.updated_at).format("YMMDD")?1:-1:void 0}))}return e}}),watch:{top_city_id:function(){this.city=this.$store.getters.getCityNameById(this.top_city_id)},cityList:function(){this.city=this.$store.getters.getCityNameById(parseInt(this.top_city_id))},city:function(){this.city=this.$store.getters.getCityNameById(parseInt(this.top_city_id)),this.city&&(this.cities=this.$store.getters.getCityById(parseInt(this.city.division_id)))}}},v=m,h=(a("bffe"),a("2877")),b=Object(h["a"])(v,i,r,!1,null,"33d1ca9b",null);e["default"]=b.exports},ab13:function(t,e,a){var i=a("b622"),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},b64b:function(t,e,a){var i=a("23e7"),r=a("7b0b"),s=a("df75"),n=a("d039"),c=n((function(){s(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(t){return s(r(t))}})},bffe:function(t,e,a){"use strict";a("e12d")},caad:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").includes,s=a("44d2");i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},dbb4:function(t,e,a){var i=a("23e7"),r=a("83ab"),s=a("56ef"),n=a("fc6a"),c=a("06cf"),o=a("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,i=n(t),r=c.f,l=s(i),u={},p=0;while(l.length>p)a=r(i,e=l[p++]),void 0!==a&&o(u,e,a);return u}})},e12d:function(t,e,a){},e439:function(t,e,a){var i=a("23e7"),r=a("d039"),s=a("fc6a"),n=a("06cf").f,c=a("83ab"),o=r((function(){n(1)})),l=!c||o;i({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(t,e){return n(s(t),e)}})}}]);
//# sourceMappingURL=chunk-29c01c81.768eae56.js.map